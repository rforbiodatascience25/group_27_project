---
title: "01 - load"
format: html
editor: visual
execute:
  cache: false
---

```{r}
library("readr")
```

Download files from websource

```{r}
library("readr")

# Download files only if missing
if (!file.exists("../data/_raw/TCGA-OV.star_fpkm.tsv.gz")) {
  dir.create("../data/_raw", recursive = TRUE, showWarnings = FALSE)

  urls <- c(
    "https://gdc-hub.s3.us-east-1.amazonaws.com/download/TCGA-OV.clinical.tsv.gz",
    "https://gdc-hub.s3.us-east-1.amazonaws.com/download/TCGA-OV.star_fpkm.tsv.gz"
  )

  files <- file.path("../data/_raw", basename(urls))
  for (i in seq_along(urls)) {
    message("Downloading ", basename(urls[i]), " ...")
    download.file(urls[i], files[i])
  }
}

```

Load data

```{r}
gen_exp <- read_tsv("../data/_raw/TCGA-OV.star_fpkm.tsv.gz")
phenotype <- read_tsv("../data/_raw/TCGA-OV.clinical.tsv.gz")

# Save lighter versions for later steps
saveRDS(phenotype, "../data/phenotype.rds")
saveRDS(gen_exp, "../data/gen_exp.rds")

```
